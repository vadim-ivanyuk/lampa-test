{"version":3,"sources":["redux/store/store.reducers.js","redux/rootReducer.js","redux/store.js","components/Header/Cart.jsx","components/Header/Header.jsx","utils/apies.js","components/pages/Main/Products/ProductItem.jsx","redux/store/store.types.js","redux/store/store.actions.js","components/pages/Main/Products/ProductsList.jsx","components/pages/Main/MainPage.jsx","components/pages/Cart/Products/ProductItem.jsx","components/pages/Cart/Products/ProductsList.jsx","components/pages/Cart/OrderForm/validate.js","components/pages/Cart/OrderForm/Fields/CustomField.jsx","components/pages/Cart/OrderForm/OrderForm.jsx","components/pages/Cart/CartPage.jsx","App.jsx","index.js"],"names":["initialState","products","cart","JSON","parse","localStorage","getItem","reducers","store","handleActions","UPDATE_PRODUCTS","state","payload","UPDATE_CART","form","formReducer","combineReducers","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","Cart","useSelector","className","length","map","product","Number","price","quantity","reduce","previousValue","currentValue","getTotalPrice","to","Header","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","FIREBASE_DB","database","STORAGE_URL","STORAGE_TOKEN","ProductItem","props","addToCart","id","src","image","alt","title","description","onClick","updateCart","createAction","types","setItem","stringify","ProductsList","dispatch","useDispatch","selectedProduct","findIndex","elem","push","MainPage","decrementQuantity","incrementQuantity","style","width","productIndex","splice","required","value","CustomField","input","label","type","meta","touched","error","warning","htmlFor","placeholder","OrderForm","handleSubmit","onSubmit","values","submitCart","ref","child","Date","getTime","set","user","totalPrice","reset","Field","name","component","validate","reduxForm","CartPage","App","useEffect","on","val","basename","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7209c341.chunk.js","sourcesContent":["import { handleActions } from \"redux-actions\";\r\n\r\nconst initialState = {\r\n  products: [],\r\n  cart: JSON.parse(localStorage.getItem(\"cart\")) || [],\r\n};\r\n\r\nconst storeReducer = handleActions(\r\n  {\r\n    UPDATE_PRODUCTS: (state, { payload }) => {\r\n      return { ...state, products: payload };\r\n    },\r\n    UPDATE_CART: (state, { payload }) => {\r\n      return { ...state, cart: payload };\r\n    },\r\n  },\r\n  initialState\r\n);\r\n\r\nexport default storeReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport storeReducer from \"../redux/store/store.reducers\";\r\n\r\nconst reducers = {\r\n  store: storeReducer,\r\n  form: formReducer,\r\n};\r\n\r\nexport default combineReducers(reducers);\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport rootReducer from \"../redux/rootReducer\";\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const Cart = () => {\r\n  const store = useSelector((state) => state.store);\r\n  const { cart } = store;\r\n\r\n  const getTotalPrice = () => {\r\n    if (cart.length > 0)\r\n      return cart\r\n        .map((product) => Number(product.price) * product.quantity)\r\n        .reduce((previousValue, currentValue) => previousValue + currentValue);\r\n  };\r\n\r\n  return (\r\n    <div className=\"d-flex cart\">\r\n      <div className=\"d-flex align-items-center mr-3\">\r\n        {cart.length > 0 && (\r\n          <p className=\"d-flex align-items-center mb-0\">\r\n            {`Items ${cart.length}, subtotal $${getTotalPrice()}`}\r\n          </p>\r\n        )}\r\n      </div>\r\n      <div>\r\n        <Link to=\"/cart/\">\r\n          <button className=\"btn btn-light text-uppercase\">Cart</button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Cart } from \"./Cart.jsx\";\r\n\r\nexport const Header = () => {\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"container d-flex justify-content-between\">\r\n        <h4 className=\"d-flex align-items-center m-0\">\r\n          <Link to=\"/\">Lampa test</Link>\r\n        </h4>\r\n        <Cart />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/database\";\r\n\r\nexport const FIREBASE_CONFIG = {\r\n  apiKey: \"AIzaSyC39ynb4f8SXzUMLniQmWo7TCZXCQUaOgo\",\r\n  authDomain: \"lampa-test-ivanyuk.firebaseapp.com\",\r\n  databaseURL: \"https://lampa-test-ivanyuk-default-rtdb.firebaseio.com\",\r\n  projectId: \"lampa-test-ivanyuk\",\r\n  storageBucket: \"lampa-test-ivanyuk.appspot.com\",\r\n  messagingSenderId: \"258682313552\",\r\n  appId: \"1:258682313552:web:9c52b733087aa245f9aa55\",\r\n  measurementId: \"G-J1E66XWPRK\",\r\n};\r\n\r\nfirebase.initializeApp(FIREBASE_CONFIG);\r\n\r\nexport const FIREBASE_DB = firebase.database();\r\n\r\nexport const STORAGE_URL =\r\n  \"https://firebasestorage.googleapis.com/v0/b/lampa-test-ivanyuk.appspot.com/o/\";\r\n\r\nexport const STORAGE_TOKEN = \"65a20e7f-e979-44a1-8f44-e4580a56bfee\";\r\n","import React from \"react\";\r\nimport { STORAGE_URL, STORAGE_TOKEN } from \"../../../../utils/apies\";\r\n\r\nexport const ProductItem = (props) => {\r\n  const { product, addToCart } = props;\r\n\r\n  return (\r\n    <div className={`product-item ${product.id} mb-4`}>\r\n      <img\r\n        className=\"product-item__image\"\r\n        src={`${STORAGE_URL}${product.image}?alt=media&token=${STORAGE_TOKEN}`}\r\n        alt=\"\"\r\n      />\r\n      <h5 className=\"product-item__title mt-3 font-weight-bold\">\r\n        {product.title}\r\n      </h5>\r\n      <p className=\"product-item__description\">{product.description}</p>\r\n      <p className=\"product-item__price font-weight-bold\">\r\n        Price: {product.price} $\r\n      </p>\r\n      <button className=\"btn btn-dark col-12\" onClick={addToCart(product)}>\r\n        Add to cart\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","export const UPDATE_PRODUCTS = \"UPDATE_PRODUCTS\";\r\nexport const UPDATE_CART = \"UPDATE_CART\";\r\n","import { createAction } from \"redux-actions\";\r\nimport * as types from \"./store.types\";\r\nimport { FIREBASE_DB } from \"../../utils/apies\";\r\n\r\nexport const getProducts = () => (dispatch) => {\r\n  FIREBASE_DB.ref(\"products\").on(\"value\", (elem) => {\r\n    dispatch({\r\n      type: types.UPDATE_PRODUCTS,\r\n      payload: elem.val(),\r\n    });\r\n  });\r\n};\r\n\r\nexport const updateProducts = createAction(\r\n  types.UPDATE_PRODUCTS,\r\n  (products) => products\r\n);\r\n\r\nexport const updateCart = createAction(types.UPDATE_CART, (cart) => {\r\n  localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  return cart;\r\n});\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { ProductItem } from \"./ProductItem.jsx\";\r\nimport { updateCart } from \"../../../../redux/store/store.actions\";\r\n\r\nexport const ProductsList = () => {\r\n  const store = useSelector((state) => state.store);\r\n  const dispatch = useDispatch();\r\n  const { cart } = store;\r\n\r\n  const isCart = (id) => cart.findIndex((elem) => elem.id === id) !== -1;\r\n\r\n  const addToCart = (product) => () => {\r\n    const selectedProduct = cart.findIndex((elem) => elem.id === product.id);\r\n\r\n    isCart(product.id)\r\n      ? (cart[selectedProduct].quantity = cart[selectedProduct].quantity + 1)\r\n      : cart.push({ ...product, quantity: 1 });\r\n\r\n    dispatch(updateCart(cart));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {store.products.map((product) => {\r\n        return (\r\n          <ProductItem\r\n            product={product}\r\n            key={product.id}\r\n            addToCart={addToCart}\r\n          />\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { ProductsList } from \"./Products/ProductsList.jsx\";\r\n\r\nexport function MainPage() {\r\n  return (\r\n    <div className=\"container d-flex justify-content-between flex-wrap mt-4\">\r\n      <ProductsList />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { STORAGE_URL, STORAGE_TOKEN } from \"../../../../utils/apies\";\r\n\r\nexport const ProductItem = (props) => {\r\n  const { product, decrementQuantity, incrementQuantity } = props;\r\n\r\n  return (\r\n    <div\r\n      className={`d-flex col-12 product-item ${product.id} mb-4`}\r\n      style={{ width: \"100%\" }}\r\n    >\r\n      <div className=\"mr-3\">\r\n        <img\r\n          className=\"product-item__image\"\r\n          src={`${STORAGE_URL}${product.image}?alt=media&token=${STORAGE_TOKEN}`}\r\n          alt=\"\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <h5 className=\"product-item__title font-weight-bold\">\r\n          {product.title}\r\n        </h5>\r\n        <p\r\n          className=\"product-item__description mb-2\"\r\n        >\r\n          {product.description}\r\n        </p>\r\n        <p className=\"product-item__price font-weight-bold m-0\">\r\n          Price: {product.price} $\r\n        </p>\r\n      </div>\r\n      <div className=\"d-flex align-items-center ml-3\">\r\n        <button\r\n          className=\"btn btn-dark font-weight-bold\"\r\n          onClick={decrementQuantity(product.id)}\r\n        >\r\n          -\r\n        </button>\r\n        <p className=\"m-0 font-weight-bold pl-3 pr-3\">{product.quantity}</p>\r\n        <button\r\n          className=\"btn btn-dark font-weight-bold\"\r\n          onClick={incrementQuantity(product.id)}\r\n        >\r\n          +\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { ProductItem } from \"./ProductItem.jsx\";\r\nimport { updateCart } from \"../../../../redux/store/store.actions\";\r\n\r\nexport const ProductsList = () => {\r\n  const store = useSelector((state) => state.store);\r\n  const dispatch = useDispatch();\r\n  const { cart } = store;\r\n\r\n  const selectedProduct = (id) => cart.findIndex((elem) => elem.id === id);\r\n\r\n  const decrementQuantity = (id) => () => {\r\n    const productIndex = selectedProduct(id);\r\n\r\n    cart[productIndex].quantity > 1\r\n      ? (cart[productIndex].quantity = cart[productIndex].quantity - 1)\r\n      : cart.splice(productIndex, 1);\r\n\r\n    dispatch(updateCart(cart));\r\n  };\r\n\r\n  const incrementQuantity = (id) => () => {\r\n    const productIndex = selectedProduct(id);\r\n\r\n    cart[productIndex].quantity = cart[productIndex].quantity + 1;\r\n\r\n    dispatch(updateCart(cart));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {cart.map((product) => (\r\n        <ProductItem\r\n          key={product.id}\r\n          product={product}\r\n          decrementQuantity={decrementQuantity}\r\n          incrementQuantity={incrementQuantity}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n","export const required = (value) => {\r\n  if (value) return undefined;\r\n\r\n  return \"Is required\";\r\n};\r\n","export const CustomField = ({\r\n  input,\r\n  label,\r\n  type,\r\n  meta: { touched, error, warning },\r\n}) => (\r\n  <div className=\"form-group mb-2\">\r\n    <label className=\"mb-1 font-weight-bold\" htmlFor={label}>\r\n      {label} *\r\n    </label>\r\n    <input\r\n      {...input}\r\n      id={label}\r\n      placeholder={label}\r\n      type={type}\r\n      className=\"w-100\"\r\n    />\r\n    {touched &&\r\n      ((error && <p className=\"invalid-field\">{error}</p>) ||\r\n        (warning && <p className=\"invalid-field\">{warning}</p>))}\r\n  </div>\r\n);\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Field, reduxForm, reset } from \"redux-form\";\r\nimport { required } from \"./validate\";\r\nimport { CustomField } from \"./Fields/CustomField.jsx\";\r\nimport { FIREBASE_DB } from \"../../../../utils/apies\";\r\nimport { updateCart } from \"../../../../redux/store/store.actions\";\r\n\r\nlet OrderForm = (props) => {\r\n  const store = useSelector((state) => state.store);\r\n  const { cart } = store;\r\n  const { handleSubmit } = props;\r\n\r\n  const getTotalPrice = () => {\r\n    if (cart.length > 0)\r\n      return cart\r\n        .map((product) => Number(product.price) * product.quantity)\r\n        .reduce((previousValue, currentValue) => previousValue + currentValue);\r\n    else return 0;\r\n  };\r\n\r\n  const submit = (values, dispatch) => {\r\n    const submitCart = cart.map((product) => ({\r\n      id: product.id,\r\n      title: product.title,\r\n      price: product.price,\r\n      quantity: product.quantity,\r\n    }));\r\n\r\n    FIREBASE_DB.ref(`orders`)\r\n      .child(`order${new Date().getTime()}`)\r\n      .set(\r\n        JSON.stringify({\r\n          user: { ...values },\r\n          cart: submitCart,\r\n          totalPrice: getTotalPrice(),\r\n        })\r\n      );\r\n\r\n    dispatch(updateCart([]));\r\n    dispatch(reset(\"order-form\"));\r\n  };\r\n\r\n  return (\r\n    <form className=\"order-form\" onSubmit={handleSubmit(submit)}>\r\n      <h5 className=\"text-center\">Order Form</h5>\r\n      <Field\r\n        name=\"name\"\r\n        component={CustomField}\r\n        className=\"w-100\"\r\n        label=\"Name\"\r\n        validate={[required]}\r\n      />\r\n      <Field\r\n        name=\"surname\"\r\n        component={CustomField}\r\n        className=\"w-100\"\r\n        label=\"Surname\"\r\n        validate={[required]}\r\n      />\r\n      <Field\r\n        name=\"address\"\r\n        component={CustomField}\r\n        className=\"w-100\"\r\n        label=\"Address\"\r\n        validate={[required]}\r\n      />\r\n      <Field\r\n        name=\"phone\"\r\n        component={CustomField}\r\n        type=\"tel\"\r\n        className=\"w-100\"\r\n        label=\"Phone\"\r\n        validate={[required]}\r\n      />\r\n      <div className=\"form-group\">\r\n        <p className=\"font-weight-bold\">{`Total: $${getTotalPrice()}`}</p>\r\n      </div>\r\n      <button type=\"submit\" className=\"btn btn-dark w-100\">\r\n        Order\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nOrderForm = reduxForm({\r\n  form: \"order-form\",\r\n})(OrderForm);\r\n\r\nexport default OrderForm;\r\n","import React from \"react\";\r\nimport { ProductsList } from \"./Products/ProductsList.jsx\";\r\nimport OrderForm from \"./OrderForm/OrderForm.jsx\";\r\n\r\nexport const CartPage = () => {\r\n  return (\r\n    <div className=\"container d-flex mt-4 mb-4\">\r\n      <div className=\"col-9 cart-products\">\r\n        <ProductsList />\r\n      </div>\r\n      <div className=\"col-3\">\r\n        <OrderForm />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from \"react\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { Header } from \"./components/Header/Header.jsx\";\nimport { MainPage } from \"./components/pages/Main/MainPage.jsx\";\nimport { CartPage } from \"./components/pages/Cart/CartPage.jsx\";\nimport { getProducts } from \"./redux/store/store.actions\";\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getProducts());\n  }, []);\n\n  return (\n    <BrowserRouter basename=\"/lampa-test/\">\n      <Header />\n      <Route exact path=\"/\" component={MainPage} />\n      <Route path=\"/cart/\" component={CartPage} />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport App from \"./App.jsx\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}