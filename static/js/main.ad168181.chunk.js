(this["webpackJsonplampa-test"]=this["webpackJsonplampa-test"]||[]).push([[0],{45:function(t,e,c){},50:function(t,e,c){"use strict";c.r(e);var n=c(2),a=c(1),i=c(22),r=c.n(i),s=c(9),o=c(12),d=c(33),l=c(34),u=c(13),b=c(51),j={products:[],cart:JSON.parse(localStorage.getItem("cart"))||[]},m=Object(b.a)({UPDATE_PRODUCTS:function(t,e){var c=e.payload;return Object(u.a)(Object(u.a)({},t),{},{products:c})},UPDATE_CART:function(t,e){var c=e.payload;return Object(u.a)(Object(u.a)({},t),{},{cart:c})}},j),p=Object(o.combineReducers)({store:m}),f=Object(o.createStore)(p,Object(l.composeWithDevTools)(Object(o.applyMiddleware)(d.a))),O=(c(44),c(45),c(19)),h=c(5),x=function(){var t=Object(s.c)((function(t){return t.store})).cart;return Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)("div",{className:"d-flex align-items-center mr-3",children:t.length>0&&Object(n.jsx)("p",{className:"d-flex align-items-center mb-0",children:"Items ".concat(t.length,", subtotal $").concat(function(){if(t.length>0)return t.map((function(t){return Number(t.price)*t.quantity})).reduce((function(t,e){return t+e}))}())})}),Object(n.jsx)("div",{children:Object(n.jsx)(O.b,{to:"/cart/",children:Object(n.jsx)("button",{className:"btn btn-light text-uppercase",children:"Cart"})})})]})},v=function(){return Object(n.jsx)("div",{className:"header",children:Object(n.jsxs)("div",{className:"container d-flex justify-content-between",children:[Object(n.jsx)("h4",{className:"d-flex align-items-center m-0",children:Object(n.jsx)(O.b,{to:"/",children:"Lampa test"})}),Object(n.jsx)(x,{})]})})},g=c(30);c(47);g.a.initializeApp({apiKey:"AIzaSyC39ynb4f8SXzUMLniQmWo7TCZXCQUaOgo",authDomain:"lampa-test-ivanyuk.firebaseapp.com",databaseURL:"https://lampa-test-ivanyuk-default-rtdb.firebaseio.com",projectId:"lampa-test-ivanyuk",storageBucket:"lampa-test-ivanyuk.appspot.com",messagingSenderId:"258682313552",appId:"1:258682313552:web:9c52b733087aa245f9aa55",measurementId:"G-J1E66XWPRK"});var y=g.a.database(),N="https://firebasestorage.googleapis.com/v0/b/lampa-test-ivanyuk.appspot.com/o/",_="65a20e7f-e979-44a1-8f44-e4580a56bfee",k=function(t){var e=t.product,c=t.addToCart;return Object(n.jsxs)("div",{className:"product-item ".concat(e.id," mb-4"),children:[Object(n.jsx)("img",{className:"product-item__image",src:"".concat(N).concat(e.image,"?alt=media&token=").concat(_),alt:""}),Object(n.jsx)("h5",{className:"product-item__title mt-3 font-weight-bold",children:e.title}),Object(n.jsx)("p",{className:"product-item__description",children:e.description}),Object(n.jsxs)("p",{className:"product-item__price font-weight-bold",children:["Price: ",e.price," $"]}),Object(n.jsx)("button",{className:"btn btn-dark col-12",onClick:c(e),children:"Add to cart"})]})},w=c(52),C=(Object(w.a)("UPDATE_PRODUCTS",(function(t){return t})),Object(w.a)("UPDATE_CART",(function(t){return localStorage.setItem("cart",JSON.stringify(t)),t}))),T=function(){var t=Object(s.c)((function(t){return t.store})),e=t.cart,c=Object(s.b)(),a=function(t){return function(){var n,a=e.findIndex((function(e){return e.id===t.id}));n=t.id,-1!==e.findIndex((function(t){return t.id===n}))?e[a].quantity=e[a].quantity+1:e.push(Object(u.a)(Object(u.a)({},t),{},{quantity:1})),c(C(e))}};return Object(n.jsx)(n.Fragment,{children:t.products.map((function(t){return Object(n.jsx)(k,{product:t,addToCart:a},t.id)}))})};function I(){return Object(n.jsx)("div",{className:"container d-flex justify-content-between flex-wrap mt-4",children:Object(n.jsx)(T,{})})}var P=function(t){var e=t.product,c=t.decrementQuantity,a=t.incrementQuantity;return Object(n.jsxs)("div",{className:"d-flex col-12 product-item ".concat(e.id," mb-4"),style:{width:"100%"},children:[Object(n.jsx)("div",{className:"mr-3",children:Object(n.jsx)("img",{className:"product-item__image",src:"".concat(N).concat(e.image,"?alt=media&token=").concat(_),alt:""})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h5",{className:"product-item__title font-weight-bold",children:e.title}),Object(n.jsx)("p",{className:"product-item__description mb-2",children:e.description}),Object(n.jsxs)("p",{className:"product-item__price font-weight-bold m-0",children:["Price: ",e.price," $"]})]}),Object(n.jsxs)("div",{className:"d-flex align-items-center ml-3",children:[Object(n.jsx)("button",{className:"btn btn-dark font-weight-bold",onClick:c(e.id),children:"-"}),Object(n.jsx)("p",{className:"m-0 font-weight-bold pl-3 pr-3",children:e.quantity}),Object(n.jsx)("button",{className:"btn btn-dark font-weight-bold",onClick:a(e.id),children:"+"})]})]})},S=function(){var t=Object(s.c)((function(t){return t.store})),e=Object(s.b)(),c=t.cart,a=function(t){return c.findIndex((function(e){return e.id===t}))},i=function(t){return function(){var n=a(t);c[n].quantity>1?c[n].quantity=c[n].quantity-1:c.splice(n,1),e(C(c))}},r=function(t){return function(){var n=a(t);c[n].quantity=c[n].quantity+1,e(C(c))}};return Object(n.jsx)(n.Fragment,{children:c.map((function(t){return Object(n.jsx)(P,{product:t,decrementQuantity:i,incrementQuantity:r},t.id)}))})},U=function(){return Object(n.jsxs)("div",{className:"container d-flex mt-4 mb-4",children:[Object(n.jsx)("div",{className:"col-9 cart-products",children:Object(n.jsx)(S,{})}),Object(n.jsx)("div",{className:"col-3",children:"Form"})]})};var q=function(){var t=Object(s.b)();return Object(a.useEffect)((function(){t((function(t){y.ref("products").on("value",(function(e){t({type:"UPDATE_PRODUCTS",payload:e.val()})}))}))}),[]),Object(n.jsxs)(O.a,{basename:"/lampa-test/",children:[Object(n.jsx)(v,{}),Object(n.jsx)(h.a,{exact:!0,path:"/",component:I}),Object(n.jsx)(h.a,{path:"/cart/",component:U})]})};r.a.render(Object(n.jsx)(s.a,{store:f,children:Object(n.jsx)(q,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.ad168181.chunk.js.map