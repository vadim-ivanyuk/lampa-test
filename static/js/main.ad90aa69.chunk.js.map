{"version":3,"sources":["redux/store/store.reducers.js","redux/rootReducer.js","redux/store.js","components/Header/Cart.jsx","components/Header/Header.jsx","utils/apies.js","components/pages/Main/Products/ProductItem.jsx","redux/store/store.actions.js","components/pages/Main/Products/ProductsList.jsx","components/pages/Main/MainPage.jsx","components/pages/Cart/CartPage.jsx","App.jsx","index.js"],"names":["storeReducer","handleActions","UPDATE_PRODUCTS","state","payload","products","UPDATE_CART","cart","combineReducers","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","Cart","useSelector","className","length","map","product","Number","price","reduce","sum","current","getTotalPrice","to","Header","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","FIREBASE_DB","database","ProductItem","props","addToCart","id","src","image","alt","title","description","onClick","bind","updateCart","createAction","ProductsList","dispatch","useDispatch","push","MainPage","CartPage","App","useEffect","ref","on","elem","type","val","basename","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ad90aa69.chunk.js","sourcesContent":["import { handleActions } from \"redux-actions\";\r\n\r\nconst initialState = {\r\n  products: [],\r\n  cart: [],\r\n};\r\n\r\nconst storeReducer = handleActions(\r\n  {\r\n    UPDATE_PRODUCTS: (state, { payload }) => {\r\n      return { ...state, products: payload };\r\n    },\r\n    UPDATE_CART: (state, { payload }) => {\r\n      return { ...state, cart: payload };\r\n    },\r\n  },\r\n  initialState\r\n);\r\n\r\nexport default storeReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport storeReducer from \"../redux/store/store.reducers\";\r\n\r\nexport default combineReducers({\r\n  store: storeReducer,\r\n});\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport rootReducer from \"../redux/rootReducer\";\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const Cart = () => {\r\n  const store = useSelector((state) => state.store);\r\n\r\n  const getTotalPrice = () => {\r\n    if (store.cart.length > 0) {\r\n      return store.cart\r\n        .map((product) => {\r\n          return Number(product.price);\r\n        })\r\n        .reduce((sum, current) => {\r\n          return sum + current;\r\n        });\r\n    }\r\n  };\r\n\r\n  const { cart } = store;\r\n  return (\r\n    <>\r\n      <div className=\"d-flex align-items-center mr-2\">\r\n        {cart.length > 0 && (\r\n          <p className=\"d-flex align-items-center mb-0\">{getTotalPrice()} $</p>\r\n        )}\r\n      </div>\r\n      <div>\r\n        <Link to=\"/cart/\">\r\n          <button className=\"btn btn-light text-uppercase\">Cart</button>\r\n        </Link>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Cart } from \"./Cart.jsx\";\r\n\r\nexport const Header = () => {\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"container d-flex justify-content-end\">\r\n        <Cart />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/database\";\r\n\r\nexport const FIREBASE_CONFIG = {\r\n  apiKey: \"AIzaSyC39ynb4f8SXzUMLniQmWo7TCZXCQUaOgo\",\r\n  authDomain: \"lampa-test-ivanyuk.firebaseapp.com\",\r\n  databaseURL: \"https://lampa-test-ivanyuk-default-rtdb.firebaseio.com\",\r\n  projectId: \"lampa-test-ivanyuk\",\r\n  storageBucket: \"lampa-test-ivanyuk.appspot.com\",\r\n  messagingSenderId: \"258682313552\",\r\n  appId: \"1:258682313552:web:9c52b733087aa245f9aa55\",\r\n  measurementId: \"G-J1E66XWPRK\",\r\n};\r\n\r\nfirebase.initializeApp(FIREBASE_CONFIG);\r\n\r\nexport const FIREBASE_DB = firebase.database();\r\n\r\nexport const STORAGE_URL =\r\n  \"https://firebasestorage.googleapis.com/v0/b/lampa-test-ivanyuk.appspot.com/o/\";\r\n\r\nexport const STORAGE_TOKEN = \"65a20e7f-e979-44a1-8f44-e4580a56bfee\";\r\n","import React from \"react\";\r\nimport { STORAGE_URL, STORAGE_TOKEN } from \"../../../../utils/apies\";\r\n\r\nexport const ProductItem = (props) => {\r\n  const { product, addToCart } = props;\r\n\r\n  return (\r\n    <div className={`product-item ${product.id} mb-4`}>\r\n      <img\r\n        className=\"product-item__image\"\r\n        src={`${STORAGE_URL}${product.image}?alt=media&token=${STORAGE_TOKEN}`}\r\n        alt=\"\"\r\n      />\r\n      <h5 className=\"product-item__title mt-3 font-weight-bold\">\r\n        {product.title}\r\n      </h5>\r\n      <p className=\"product-item__description\">{product.description}</p>\r\n      <p className=\"product-item__price font-weight-bold\">\r\n        Price: {product.price} $\r\n      </p>\r\n      <button\r\n        className=\"btn btn-dark col-12\"\r\n        onClick={addToCart.bind(this, product)}\r\n      >\r\n        Add to cart\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n","import { createAction } from \"redux-actions\";\r\nimport { FIREBASE_DB } from \"../../utils/apies\";\r\n\r\nexport const getProducts = () => (dispatch) => {\r\n  FIREBASE_DB.ref(\"products\").on(\"value\", (elem) => {\r\n    dispatch({\r\n      type: \"UPDATE_PRODUCTS\",\r\n      payload: elem.val(),\r\n    });\r\n  });\r\n};\r\n\r\nexport const updateProducts = createAction(\r\n  \"UPDATE_PRODUCTS\",\r\n  (products) => products\r\n);\r\n\r\nexport const updateCart = createAction(\"UPDATE_CART\", (cart) => {\r\n  return cart;\r\n});\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { ProductItem } from \"./ProductItem.jsx\";\r\nimport { updateCart } from \"../../../../redux/store/store.actions\";\r\n\r\nexport const ProductsList = () => {\r\n  const store = useSelector((state) => state.store);\r\n  const dispatch = useDispatch();\r\n\r\n  const addToCart = (product) => {\r\n    const cart = store.cart;\r\n    cart.push(product);\r\n\r\n    dispatch(updateCart(cart));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {store.products.map((product) => {\r\n        return (\r\n          <ProductItem\r\n            product={product}\r\n            key={product.id}\r\n            addToCart={addToCart}\r\n          />\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { ProductsList } from \"./Products/ProductsList.jsx\";\r\n\r\nexport function MainPage() {\r\n  return (\r\n    <div className=\"container d-flex justify-content-between flex-wrap mt-4\">\r\n      <ProductsList />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport const CartPage = () => {\r\n  return <div>CartPage</div>;\r\n};\r\n","import React, { useEffect } from \"react\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport { Header } from \"./components/Header/Header.jsx\";\nimport { MainPage } from \"./components/pages/Main/MainPage.jsx\";\nimport { CartPage } from \"./components/pages/Cart/CartPage.jsx\";\nimport { getProducts } from \"./redux/store/store.actions\";\n\nfunction App() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getProducts());\n  }, []);\n\n  return (\n    <BrowserRouter basename=\"/lampa-test/\">\n      <Header />\n      <Route exact path=\"/\" component={MainPage} />\n      <Route path=\"/cart/\" component={CartPage} />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport App from \"./App.jsx\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}